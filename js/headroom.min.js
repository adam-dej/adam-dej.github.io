(function(c,d){function h(a){this.callback=a;this.ticking=!1}function k(a){if(0>=arguments.length)throw Error("Missing arguments in extend function");var b=a||{},e,c;for(c=1;c<arguments.length;c++){var d=arguments[c]||{};for(e in d)b[e]="object"===typeof b[e]?k(b[e],d[e]):b[e]||d[e]}return b}function f(a,b){b=k(b,f.options);this.lastKnownScrollY=0;this.elem=a;this.debouncer=new h(this.update.bind(this));var c=b.tolerance;this.tolerance=c===Object(c)?c:{down:c,up:c};this.classes=b.classes;this.offset=
b.offset;this.initialised=!1;this.onPin=b.onPin;this.onUnpin=b.onUnpin;this.onTop=b.onTop;this.onNotTop=b.onNotTop}var g={bind:!!function(){}.bind,classList:"classList"in d.documentElement,rAF:!!(c.requestAnimationFrame||c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame)};c.requestAnimationFrame=c.requestAnimationFrame||c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame;h.prototype={constructor:h,update:function(){this.callback&&this.callback();this.ticking=!1},requestTick:function(){this.ticking||
(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}};f.prototype={constructor:f,init:function(){if(f.cutsTheMustard)return this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this},destroy:function(){var a=this.classes;this.initialised=!1;c.removeEventListener("scroll",this.debouncer,!1);this.elem.classList.remove(a.unpinned,a.pinned,a.top,a.initial)},attachEvent:function(){this.initialised||
(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,c.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var a=this.elem.classList,b=this.classes;if(a.contains(b.pinned)||!a.contains(b.unpinned))a.add(b.unpinned),a.remove(b.pinned),this.onUnpin&&this.onUnpin.call(this)},pin:function(){var a=this.elem.classList,b=this.classes;a.contains(b.unpinned)&&(a.remove(b.unpinned),a.add(b.pinned),this.onPin&&this.onPin.call(this))},top:function(){var a=this.elem.classList,
b=this.classes;a.contains(b.top)||(a.add(b.top),a.remove(b.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var a=this.elem.classList,b=this.classes;a.contains(b.notTop)||(a.add(b.notTop),a.remove(b.top),this.onNotTop&&this.onNotTop.call(this))},getScrollY:function(){return void 0!==c.pageYOffset?c.pageYOffset:(d.documentElement||d.body.parentNode||d.body).scrollTop},getViewportHeight:function(){return c.innerHeight||d.documentElement.clientHeight||d.body.clientHeight},getDocumentHeight:function(){var a=
d.body,b=d.documentElement;return Math.max(a.scrollHeight,b.scrollHeight,a.offsetHeight,b.offsetHeight,a.clientHeight,b.clientHeight)},isOutOfBounds:function(a){var b=0>a;a=a+this.getViewportHeight()>this.getDocumentHeight();return b||a},toleranceExceeded:function(a,b){return Math.abs(a-this.lastKnownScrollY)>=this.tolerance[b]},shouldUnpin:function(a,b){var c=a>=this.offset;return a>this.lastKnownScrollY&&c&&b},shouldPin:function(a,b){var c=a<=this.offset;return a<this.lastKnownScrollY&&b||c},update:function(){var a=
this.getScrollY(),b=this.toleranceExceeded(a,a>this.lastKnownScrollY?"down":"up");this.isOutOfBounds(a)||(a<=this.offset?this.top():this.notTop(),this.shouldUnpin(a,b)?this.unpin():this.shouldPin(a,b)&&this.pin(),this.lastKnownScrollY=a)}};f.options={tolerance:{up:0,down:0},offset:0,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",initial:"headroom"}};f.cutsTheMustard="undefined"!==typeof g&&g.rAF&&g.bind&&g.classList;c.Headroom=f})(window,
document);
